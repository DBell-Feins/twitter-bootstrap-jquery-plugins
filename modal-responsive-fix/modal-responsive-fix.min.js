//     Twitter Bootstrap jQuery Plugins - Modal Responsive Fix
//     Copyright (c) 2012 Nick Baugh <niftylettuce@gmail.com>
//     MIT Licensed
//     v0.0.3
// * Author: [@niftylettuce](https://twitter.com/#!/niftylettuce)
// * Source: <https://github.com/niftylettuce/twitter-bootstrap-jquery-plugins>
// # modal-responsive-fix
(function(e){e.fn.modalResponsiveFix=function(t){function r(){var n=e(this);n.on(t.event,function(){setTimeout(i(n),1)}),e(window).scroll(i(n)),e(window).resize(i(n))}function i(n){return function(r){typeof r!="undefined"&&r.preventDefault();var i=e(window),s={width:i.width(),height:i.height(),scrollTop:i.scrollTop()};s.maxHeight=s.height-t.spacing*2,s.width>480&&s.width<=767&&(s.maxHeight=s.maxHeight-20);var o=n||e(this),u=o.find(".modal-header"),a=o.find(".modal-body"),f=o.find(".modal-footer"),l={width:o.width(),height:o.height()},c=o.hasClass("modal-fullscreen");!t.override&&(t.fullscreen||c)&&(t.fullscreen=!0);if(!t.fullscreen){s.width<=767&&l.height>=s.maxHeight?o.css({maxHeight:s.maxHeight}):o.css({maxHeight:"none"});if(s.width<=767){var h=s.maxHeight;h-=u.outerHeight(!0),h-=f.outerHeight(!0),h-=a.outerHeight(!0)-a.height(),h>400&&(h=400),a.css("max-height",h)}else t.fullscreen||a.css("max-height",400)}s.width<=767?(t.fullscreen?l.height>=s.height?l.top=s.scrollTop:l.top=s.scrollTop+(s.height-l.height)/2:l.height>=s.maxHeight?l.top=s.scrollTop+t.spacing:l.top=s.scrollTop+(s.height-l.height)/2,o.css({position:"absolute",top:l.top,marginLeft:0,marginTop:0})):(o.css({position:"fixed",top:"50%"}),t.fullscreen&&o.css({marginTop:-(o.outerHeight()/2),marginLeft:-(o.outerWidth()/2)}));if(t.debug){var p={options:t,data:s,modal:l};console.log("modalResponsiveFix",p)}}}t=t||{},t.spacing=t.spacing||10,t.fullscreen=t.fullscreen||!1,t.override=t.override||!1,t.debug=t.debug||!1,t.event=t.event||"show";var n=e(this);n.each(r)}})(jQuery);